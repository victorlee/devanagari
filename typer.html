<!DOCTYPE html>
<html>
<head>
    <title>Devanagari typer</title>
<meta charset="utf-8">

    <script type="text/javascript">
	  
var conversion = {
"k": "क",
"c": "च",
"T": "ट",
"t": "त",
"p": "प",
"kh": "ख",
"ch": "छ",
"Th": "ठ",
"th": "थ",
"ph": "फ",
"g": "ग",
"j": "ज",
"D": "ड",
"d": "द",
"b": "ब",
"gh": "घ",
"jh": "झ",
"Dh": "ढ",
"dh": "ध",
"bh": "भ",
"ng": "ङ",
"ny": "ञ",
"N": "ण",
"n": "न",
"m": "म",
"h": "ह",
"y": "य",
"r": "र",
"l": "ल",
"v": "व",
"sh": "श",
"S": "ष",
"s": "स",

"M": "ं",
"H": "ः",
"C": "ँ",
"w":"़",
"q": "्",
"Q": "्\u200d",
"a": "&#8203;",
"aa": "ा",
"i": "ि",
"ii": "ी",
"u": "ु",
"uu": "ू",
"R": "ृ",
"RR": "ॄ",
"L": "ॢ",
"LL": "ॣ",
"e": "े",
"ai": "ै",
"o": "ो",
"au": "ौ",
"qa": "अ",
"qaa": "आ",
"qi": "इ",
"qii": "ई",
"qu": "उ",
"quu": "ऊ",
"qR": "ऋ",
"qRR": "ॠ",
"qL": "ऌ",
"qLL": "ॡ",
"qe": "ए",
"qai": "ऐ",
"qo": "ओ",
"qau": "औ",
"x": "ॐ",

"1": "१",
"2": "२",
"3": "३",
"4": "४",
"5": "५",
"6": "६",
"7": "७",
"8": "८",
"9": "९",
"0": "०",

".": "।",
"..": "॥",
"|": "॰",
"_": "ऽ",

"K":"[invalid]",
"G":"[invalid]",
"Kh":"[invalid]",
"z":"[invalid]",
"f":"[invalid]",
"W": "[invalid]",
"Z": "[invalid]",
"Y": "[invalid]",
"P": "[invalid]",
"F": "[invalid]",
"L": "[invalid]",
"X": "[invalid]",
"V": "[invalid]",
"B": "[invalid]",
"A": "[invalid]",
"E": "[invalid]",
"I": "[invalid]",
"O": "[invalid]",
"U": "[invalid]",
"J": "[invalid]",

"kah":"कह",
"cah":"चह",
"Tah":"टह",
"tah":"तह",
"pah":"पह",
"gah":"गह",
"jah":"जह",
"Dah":"डह",
"dah":"दह",
"bah":"बह",
"nag":"नग",
"nay":"नय",
"sah":"सह",
        };

 var maxLength = Object.keys(conversion)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert (text) {
    var converted = "";
    var cur = 0;
    while (cur < text.length) {
      var testedPhoneme;
      var symbol = undefined;
      for (var length = maxLength; length > 0; length --) {
        testedPhoneme = text.substr(cur, length);
        if (conversion[testedPhoneme]) {
          symbol = conversion[testedPhoneme];
          break; // stop the loop
        }
      }
      if (symbol) {
        converted += symbol;
        cur += testedPhoneme.length;
      }
      else {
        converted += text[cur]
        cur++;
      }
    }
    return converted
  }

  function onInputTextChange(txt) {
    var outputTextareaElem = document.getElementById("output_textarea");
    var div = document.createElement("div");
    var outputHtmlEntities = convert(txt);
    div.innerHTML = outputHtmlEntities;
    outputTextareaElem.value = div.innerText;
  }


        function select() {
          const input = document.getElementById('input_textarea');
          input.focus();
          input.select();
        }   
        function copytext() {
          var copyText = document.getElementById("output_textarea");
          copyText.select();
          copyText.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }

    </script>
    
<style>
html {
font-family:arial
}
table {
  border-collapse: collapse;
  width: 90%;
}
td, th {
  border: 1px solid #AAA;
  text-align: center;
  padding: 1px;
}
textarea {
	font-size: 16pt;
	font-family: Arial;
    width: 96%;
} 
.note {
  border: 1px solid #DDD;
  width: 30%;
  text-align: left;
  padding-left: 30px;
  padding-right: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
}
</style>


</head>
<body>  

<body>  

<center><h1 class="text-center">Devanagari typer</h1>
<p>Compatible with Sanskrit, Hindi, Nepali, etc.</p></center><br>
 
<center>
<table>
<thead>
<tr>
<th>	
<button onclick="select('input_textarea')">Select all</button>
<button onclick="document.getElementById('input_textarea').value = ''">Clear</button>
</th>
<th>
<button onclick="copytext()">Copy text</button>
<button onclick="sanskrit()">Sanskrit</button>
<button onclick="wikt()">Wikt.</button>
<button onclick="navert()">Naver</button>
<script>
function sanskrit() {
window.open("https://sanskritdictionary.com/?iencoding=iast&q=" + document.getElementById('output_textarea').value + "&lang=sans&action=Search", "_blank");
}
function sanskrit() {
window.open("https://sanskritdictionary.com/?iencoding=iast&q=" + document.getElementById('output_textarea').value + "&lang=sans&action=Search", "_blank");
}
function wikt() {
	window.open("https://en.wiktionary.org/wiki/" + document.getElementById('output_textarea').value, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
function naver() {
	window.open("https://dict.naver.com/hikodict/#/search?query=" + document.getElementById('output_textarea').value, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
</script>
</th>
<th style="width: 200px">Conversion table</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<textarea
id="input_textarea"
autofocus=""
placeholder="Input text here"
rows="10"
oninput="onInputTextChange(this.value)"></textarea>    
</td>
<td>
<textarea rows="10" placeholder="output" id="output_textarea"></textarea>    
</td>
<td>

<center>
<div style="overflow-y: scroll; height:250px; width:170px">
<table>
<thead>
<tr>
<th>Input</th>
<th>Devanagari</th>
</tr>
</thead>
<tbody>
<tr>
<td>k</td>
<td>क</td>
</tr>
<tr>
<td>c</td>
<td>च</td>
</tr>
<tr>
<td>T</td>
<td>ट</td>
</tr>
<tr>
<td>t</td>
<td>त</td>
</tr>
<tr>
<td>p</td>
<td>प</td>
</tr>
<tr>
<td>kh</td>
<td>ख</td>
</tr>
<tr>
<td>ch</td>
<td>छ</td>
</tr>
<tr>
<td>Th</td>
<td>ठ</td>
</tr>
<tr>
<td>th</td>
<td>थ</td>
</tr>
<tr>
<td>ph</td>
<td>फ</td>
</tr>
<tr>
<td>g</td>
<td>ग</td>
</tr>
<tr>
<td>j</td>
<td>ज</td>
</tr>
<tr>
<td>D</td>
<td>ड</td>
</tr>
<tr>
<td>d</td>
<td>द</td>
</tr>
<tr>
<td>b</td>
<td>ब</td>
</tr>
<tr>
<td>gh</td>
<td>घ</td>
</tr>
<tr>
<td>jh</td>
<td>झ</td>
</tr>
<tr>
<td>Dh</td>
<td>ढ</td>
</tr>
<tr>
<td>dh</td>
<td>ध</td>
</tr>
<tr>
<td>bh</td>
<td>भ</td>
</tr>
<tr>
<td>ng</td>
<td>ङ</td>
</tr>
<tr>
<td>ny</td>
<td>ञ</td>
</tr>
<tr>
<td>N</td>
<td>ण</td>
</tr>
<tr>
<td>n</td>
<td>न</td>
</tr>
<tr>
<td>m</td>
<td>म</td>
</tr>
<tr>
<td>h</td>
<td>ह</td>
</tr>
<tr>
<td>y</td>
<td>य</td>
</tr>
<tr>
<td>r</td>
<td>र</td>
</tr>
<tr>
<td>l</td>
<td>ल</td>
</tr>
<tr>
<td>v</td>
<td>व</td>
</tr>
<tr>
<td>sh</td>
<td>श</td>
</tr>
<tr>
<td>S</td>
<td>ष</td>
</tr>
<tr>
<td>s</td>
<td>स</td>
</tr>

<tr>
<td>qa</td>
<td>अ</td>
</tr>
<tr>
<td>qaa</td>
<td>आ</td>
</tr>
<tr>
<td>qi</td>
<td>इ</td>
</tr>
<tr>
<td>qii</td>
<td>ई</td>
</tr>
<tr>
<td>qu</td>
<td>उ</td>
</tr>
<tr>
<td>quu</td>
<td>ऊ</td>
</tr>
<tr>
<td>qR</td>
<td>ऋ</td>
</tr>
<tr>
<td>qRR</td>
<td>ॠ</td>
</tr>
<tr>
<td>qL</td>
<td>ऌ</td>
</tr>
<tr>
<td>qLL</td>
<td>ॡ</td>
</tr>
<tr>
<td>qe</td>
<td>ए</td>
</tr>
<tr>
<td>qai</td>
<td>ऐ</td>
</tr>
<tr>
<td>qo</td>
<td>ओ</td>
</tr>
<tr>
<td>qau</td>
<td>औ</td>
</tr>
<tr>
<td>a</td>
	<td><code>\u200B</code></td>
</tr>
<tr>
<td>aa</td>
<td>ा</td>
</tr>
<tr>
<td>i</td>
<td>ि</td>
</tr>
<tr>
<td>ii</td>
<td>ी</td>
</tr>
<tr>
<td>u</td>
<td>ु</td>
</tr>
<tr>
<td>uu</td>
<td>ू</td>
</tr>
<tr>
<td>R</td>
<td>ृ</td>
</tr>
<tr>
<td>RR</td>
<td>ॄ</td>
</tr>
<tr>
<td>L</td>
<td>ॢ</td>
</tr>
<tr>
<td>LL</td>
<td>ॣ</td>
</tr>
<tr>
<td>e</td>
<td>े</td>
</tr>
<tr>
<td>ai</td>
<td>ै</td>
</tr>
<tr>
<td>o</td>
<td>ो</td>
</tr>
<tr>
<td>au</td>
<td>ौ</td>
</tr>
<tr>
<td>M</td>
<td>ं</td>
</tr>
<tr>
<td>H</td>
<td>ः</td>
</tr>
<tr>
<td>w</td>
<td>़</td>
</tr>
<tr>
<td>q</td>
<td>्</td>
</tr>
<tr>
<td>Q</td>
<td>्+ZWJ<br>(\u200d)</td>
</tr>
<tr>
<td>C</td>
<td>ँ</td>
</tr>
<tr>
<td>x</td>
<td>ॐ</td>
</tr>
<tr>
<td>1</td>
<td>१</td>
</tr>
<tr>
<td>2</td>
<td>२</td>
</tr>
<tr>
<td>3</td>
<td>३</td>
</tr>
<tr>
<td>4</td>
<td>४</td>
</tr>
<tr>
<td>5</td>
<td>५</td>
</tr>
<tr>
<td>6</td>
<td>६</td>
</tr>
<tr>
<td>7</td>
<td>७</td>
</tr>
<tr>
<td>8</td>
<td>८</td>
</tr>
<tr>
<td>9</td>
<td>९</td>
</tr>
<tr>
<td>0</td>
<td>०</td>
</tr>
<tr>
<td>.</td>
<td>।</td>
</tr>
<tr>
<td>..</td>
<td>॥</td>
</tr>
<tr>
<td>|</td>
<td>॰</td>
</tr>
<tr>
<td>_</td>
<td>ऽ</td>
</tr>
<tr><td colspan="2">split double letter consonants: add 'a' in between</td></tr>
</tbody>
</table>


</div>
</center>

</td>
</tr>
</tbody>
</table>
</center>

</body>
</html>
